import{$ as a,a as f}from"./vendor.7c70a12f.js";const k=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=i(n);fetch(n.href,o)}};k();const v=a(".cell"),b=a("#restartButton"),u=a("[name=play_as]"),O=a(".x"),I=a(".o"),M=a("path");let l="x",d=!0,s=[["","",""],["","",""],["","",""]];function L(){f({targets:"#svg_1 line",x2:233,duration:300,easing:"easeOutQuad"})}const w=()=>({x:1,o:-1,tie:0});function A(){return l==="x"?"o":"x"}function m(){let e=[];for(let t=0;t<3;t++)for(let i=0;i<3;i++)s[t][i]===""&&e.push({x:t,y:i});return e}function D(e,t){switch(a(`[data-id="${e}"]`).find(`.${t}`).css("display","block"),t){case"o":f({targets:`[data-id="${e}"] .x-arc`,strokeDashoffset:0,easing:"easeInOutQuad",duration:200});break;case"x":f({targets:`[data-id="${e}"] .x-line`,strokeDashoffset:0,easing:"easeOutQuad",duration:150,delay:f.stagger(100)});break}}function h(e,t,i){const r=p();if(r!==null)return w()[r];if(i){let n=-1/0;for(const{x:o,y:c}of m()){e[o][c]=l=="x"?"x":"o";const y=h(e,t+1,!1);e[o][c]="",n=Math.max(y,n)}return n}else{let n=1/0;for(const{x:o,y:c}of m()){e[o][c]=l=="x"?"o":"x";const y=h(e,t+1,!0);e[o][c]="",n=Math.min(y,n)}return n}}function g(){let e=l=="x"?1/0:-1/0,t;for(const{x:n,y:o}of m()){s[n][o]=A();const c=h(s,0,l=="x");s[n][o]="",l=="x"?c<e&&(e=c,t={x:n,y:o}):c>e&&(e=c,t={x:n,y:o})}$(t.x,t.y,l==="x"?"o":"x");const i=l==="x"?0:1,r=i===0?1:0;u[r].checked=!0,setTimeout(()=>{d=!0,u[i].checked=!0},500)}function $(e,t,i){s[e][t]===""&&(s[e][t]=i,D(a(`[data-x="${e}"][data-y=${t}]`).data("id"),i))}function x(e,t,i){return e===t&&t===i}function p(){let e=null;for(let r=0;r<3;r++)x(s[0][r],s[1][r],s[2][r])&&(e=s[0][r]),x(s[r][0],s[r][1],s[r][2])&&(e=s[r][0]);const t=x(s[0][0],s[1][1],s[2][2]),i=x(s[0][2],s[1][1],s[2][0]);return(t||i)&&(e=s[1][1]),e===""&&(e=null),e===null&&m().length==0?"tie":e}v.on("click",function(){u.attr("disabled","");const{x:e,y:t}=a(this).data(),i=p();d&&i===null&&($(e,t,l),d=!1,p()==null?setTimeout(()=>{g()},500):d=!0)});u.on("click",function(){l=a(this).val(),l=="o"&&(u.attr("disabled",""),g())});b.on("click",function(){l="x",u.removeAttr("disabled"),u[0].checked=!0,s=[["","",""],["","",""],["","",""]],O.css({display:"none"}),I.css({display:"none"}),a.each(M,function(){a(this).css({"stroke-dashoffset":a(this).data("stroke-dashoffset")})})});L();

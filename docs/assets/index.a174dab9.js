import{$ as s,a as d}from"./vendor.7c70a12f.js";const b=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const a of c.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function o(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerpolicy&&(c.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?c.credentials="include":n.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(n){if(n.ep)return;n.ep=!0;const c=o(n);fetch(n.href,c)}};b();const w=s(".cell"),M=s("#restartButton"),v=s(".choice"),L=s(".x"),S=s(".o"),T=s("path");let l=!0;function $(){return l?"x":"o"}function h(){return l?"o":"x"}let u=!0,g=!1,i=[["","",""],["","",""],["","",""]];const A=()=>({[h()]:1,[$()]:-1,tie:0});function D(){d({targets:"#svg_1 line",x2:233,duration:300,easing:"easeOutQuad"})}function p(){let e=[];for(let t=0;t<3;t++)for(let o=0;o<3;o++)i[t][o]===""&&e.push({x:t,y:o});return e}function B(e,t){switch(s(`[data-id="${e}"]`).find(`.${t}`).css("display","block"),t){case"o":d({targets:`[data-id="${e}"] .x-arc`,strokeDashoffset:0,easing:"easeInOutQuad",duration:200});break;case"x":d({targets:`[data-id="${e}"] .x-line`,strokeDashoffset:0,easing:"easeOutQuad",duration:150,delay:d.stagger(100)});break}}function x(e,t,o){const r=f();if(r!==null)return A()[r];if(o){let n=-1/0;for(const{x:c,y:a}of p()){e[c][a]=h();const m=x(e,t+1,!1);e[c][a]="",n=Math.max(m,n)}return n}else{let n=1/0;for(const{x:c,y:a}of p()){e[c][a]=$();const m=x(e,t+1,!0);e[c][a]="",n=Math.min(m,n)}return n}}function C(){let e=-1/0,t;for(const{x:o,y:r}of p()){i[o][r]=h();const n=x(i,0,!1);i[o][r]="",n>e&&(e=n,t={x:o,y:r})}k(t.x,t.y,h()),setTimeout(()=>{u=!0,v.toggleClass("active")},500)}function k(e,t,o){i[e][t]=o,B(s(`[data-x="${e}"][data-y=${t}]`).data("id"),o),f()!==null&&setTimeout(()=>{N()},600)}function y(e,t,o){return e===t&&t===o&&e!==""}function f(){let e=null;for(let r=0;r<3;r++)y(i[0][r],i[1][r],i[2][r])&&(e=i[0][r]),y(i[r][0],i[r][1],i[r][2])&&(e=i[r][0]);const t=y(i[0][0],i[1][1],i[2][2]),o=y(i[0][2],i[1][1],i[2][0]);return(t||o)&&(e=i[1][1]),e===null&&p().length==0&&(e="tie"),e}function I(e=null){if(e!==null){const t=e.toUpperCase(),o=t=="X"?"O":"X";s(`#choice${t}`).addClass("active"),s(`#choice${o}`).removeClass("active")}else s("#choiceX, #choiceO").toggleClass("active")}function N(){alert(`winner: ${f()}`),u=!1}w.on("click",function(){g=!0,s("#playerChoice").addClass("disabled");const{x:e,y:t}=s(this).data();u&&f()===null&&i[e][t]===""&&(u=!1,k(e,t,$()),f()===null&&(v.toggleClass("active"),setTimeout(()=>{C()},400)))});v.on("click",function(){l=s(this).data("play-as")=="x",!l&&!g&&(g=!0,s("#playerChoice").addClass("disabled"),C())});M.on("click",function(){l=!0,u=!0,g=!1,s("#playerChoice").removeClass("disabled"),I("x"),i=[["","",""],["","",""],["","",""]],L.css({display:"none"}),S.css({display:"none"}),s.each(T,function(){s(this).css({"stroke-dashoffset":s(this).data("stroke-dashoffset")})})});D();function O(){s(".grid-lines").height(s(".grid-lines").width()),s(".grid").height(s(".grid").width()),s(".cell").height(s(".cell").width())}window.onresize=function(){O()};O();
